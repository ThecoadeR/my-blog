<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 之原型链 | 前端打杂师 - Zhu</title>
    <meta name="description" content="All is well">
    <link rel="icon" href="/vue-press/image/favicon.ico">
    
    <link rel="preload" href="/vue-press/assets/css/0.styles.e40496fb.css" as="style"><link rel="preload" href="/vue-press/assets/js/app.88f05347.js" as="script"><link rel="preload" href="/vue-press/assets/js/2.c4655929.js" as="script"><link rel="preload" href="/vue-press/assets/js/3.dc752b15.js" as="script"><link rel="prefetch" href="/vue-press/assets/js/10.a12d9943.js"><link rel="prefetch" href="/vue-press/assets/js/11.6e24f814.js"><link rel="prefetch" href="/vue-press/assets/js/12.6bb4abe9.js"><link rel="prefetch" href="/vue-press/assets/js/13.be970c90.js"><link rel="prefetch" href="/vue-press/assets/js/4.614ca505.js"><link rel="prefetch" href="/vue-press/assets/js/5.4fe5a681.js"><link rel="prefetch" href="/vue-press/assets/js/6.d04ce631.js"><link rel="prefetch" href="/vue-press/assets/js/7.3c0cc713.js"><link rel="prefetch" href="/vue-press/assets/js/8.8f68e2da.js"><link rel="prefetch" href="/vue-press/assets/js/9.fd89282b.js">
    <link rel="stylesheet" href="/vue-press/assets/css/0.styles.e40496fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-press/" class="home-link router-link-active"><!----> <span class="site-name">前端打杂师 - Zhu</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-press/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vue-press/vue/" class="nav-link">博客</a></div><div class="nav-item"><a href="https://github.com/ThecoadeR/vue-press/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-press/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vue-press/vue/" class="nav-link">博客</a></div><div class="nav-item"><a href="https://github.com/ThecoadeR/vue-press/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VuePress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-press/JS/" class="active sidebar-link">JavaScript 之原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-press/JS/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/vue-press/JS/#创建对象的几种方法" class="sidebar-link">创建对象的几种方法</a></li><li class="sidebar-sub-header"><a href="/vue-press/JS/#原型链之中的关系梳理" class="sidebar-link">原型链之中的关系梳理</a></li><li class="sidebar-sub-header"><a href="/vue-press/JS/#原型链的工作原理" class="sidebar-link">原型链的工作原理</a></li><li class="sidebar-sub-header"><a href="/vue-press/JS/#原型链的实际应用" class="sidebar-link">原型链的实际应用</a></li><li class="sidebar-sub-header"><a href="/vue-press/JS/#instanceof" class="sidebar-link">instanceof</a></li></ul></li><li><a href="/vue-press/JS/OOP.html" class="sidebar-link">JavaScript 之面向对象</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript-之原型链"><a href="#javascript-之原型链" aria-hidden="true" class="header-anchor">#</a> JavaScript 之原型链</h1> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>在 JavaScript 中 一直感觉原型链是个很绕口或者是个理解起来很费劲的东西 那么 希望通过这篇文章能够对你有所帮助 既然说到原型链 那么第一个问题就是 创建对象 毕竟 如果没有对象 哪里来的原型链呢 是不是 所以 先来看看创建对象的几种方法吧</p> <h2 id="创建对象的几种方法"><a href="#创建对象的几种方法" aria-hidden="true" class="header-anchor">#</a> 创建对象的几种方法</h2> <ol><li>通过字面常量的方式创建 也可能是我们日常开发中使用的最多的方法</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'obj1'</span> <span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>通过<code>new Object</code> 其实这种创建方式等价于字面常量创建</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'obj2'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>通过构造函数创建</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token string">'obj3'</span><span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>通过<code>Object.create</code>创建</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'obj4'</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> obj4 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
</code></pre></div><h2 id="原型链之中的关系梳理"><a href="#原型链之中的关系梳理" aria-hidden="true" class="header-anchor">#</a> 原型链之中的关系梳理</h2> <p>在开始下面的长篇大论以前 还是先来看一张图 这张图其实非常好的说明了<code>实例 原型对象 构造函数</code>之间的关联关系 其实要是可以看明白这张图 也基本明白啥是原型链以及原型链的工作原理了
<img src="/vue-press/assets/img/proto.9800f5b6.jpg" alt="关系图"></p> <ul><li><p>构造函数和实例: 例如上文的<code>obj3</code> 他就是构造函数<code>foo</code>new 出来的一个实例 这里多嘴一句 但凡任意函数名前面 有<code>new</code>这个关键字 那么这个函数都可以被称之为构造函数 由于这个点非常简单 所以我们就一笔带过吧 相信有 JS 基础的同学 应该都很容易理解</p></li> <li><p>构造函数和原型对象: 当我们在写一个函数的时候 不论这个函数的函数体是什么 哪怕一行代码也没有 他就是空有一个<code>function</code> JavaScript 的模板引擎也会为这个函数体自动添加一个 prototype 也就是原型对象 也就是图上所说的 构造函数和原型对象通过 prototype 关联 这个地方还有一点非常重要
<span style="color:red;">只有函数才有 prototype 而实例是没有的</span>
这一点可以用代码来佐证</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'obj1'</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj1的prototype:'</span> <span class="token operator">+</span> obj1<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>

<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo的prototype:'</span> <span class="token operator">+</span> foo<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
</code></pre></div><p>我们可以打开浏览器看看控制台都输出了些什么</p> <p><img src="/vue-press/assets/img/console.67fd88e8.jpg" alt=""></p> <p>这样也算是有图有真相了吧 233333</p> <ul><li>原型对象和构造函数: 看到这里 肯定会有人想问 那既然我们写一个函数 就会有一个 prototype 那么这么多的 prototype 又如何区分呢 这里 就要用到<code>constructor</code> 也就是说 不论这个函数怎么写 原型对象都会通过<code>constructor</code>来找到它 老规矩 还是上代码</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> foo<span class="token punctuation">)</span>
</code></pre></div><p>控制台的打印结果如下</p> <p><img src="data:image/jpeg;base64,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" alt=""></p> <p>所以这个观点也是被代码所佐证了</p> <ul><li>实例和原型对象: 实例和原型对象之间 是通过<code>__proto__</code>相关联 这里也有一点同样值得注意
<span style="color:red;">
函数同样拥有<code>__proto__</code> 因为函数既是函数 也同样是实例 他的原型对象就是一个<code>Function</code></span>
同样的 还是来上代码 并观察输出结果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token string">'obj3'</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/vue-press/assets/img/console3.50b945c6.jpg" alt=""></p> <p>写到这里 其实就已经差不多了 有了理论支持 那么接下去 其实就是得出结论啦</p> <h2 id="原型链的工作原理"><a href="#原型链的工作原理" aria-hidden="true" class="header-anchor">#</a> 原型链的工作原理</h2> <p>既然已经知晓了实例 构造函数 原型对象之间的关系 那么 其实当查找一个实例是否拥有一个属性的时候 JS 的模板引擎会逐级向上寻找 也就是</p> <p><code>实例 -&gt; 构造函数 -&gt; 原型对象 -&gt; 原型对象的原型对象 -&gt; ... -&gt; Object.prototype</code></p> <p>如果这一整个查找过程都没有找到对应的属性那么则会返回<code>undefined</code> 如果有则返回对应的属性值 既然也知晓了工作原理 其实就可以在日常工作中通过原型链 去帮助我们写出更加简洁 更加优雅的代码</p> <h2 id="原型链的实际应用"><a href="#原型链的实际应用" aria-hidden="true" class="header-anchor">#</a> 原型链的实际应用</h2> <p>假设我们现在通过相同的构造函数创建了多个实例 而这些实例有时候都会调用相同函数 有些同学可能会每一次都会拷贝一份方法 其实大可不必 我们可以直接将相同代码直接挂载到<code>prototype</code>上即可 代码如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是对象'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token string">'obj3'</span><span class="token punctuation">)</span>
obj3<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token string">'obj3'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> obj5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token string">'obj5'</span><span class="token punctuation">)</span>
obj5<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token string">'obj5'</span><span class="token punctuation">)</span>
</code></pre></div><p>控制台输出结果如下
<img src="/vue-press/assets/img/console4.c5367a36.jpg" alt="123"></p> <h2 id="instanceof"><a href="#instanceof" aria-hidden="true" class="header-anchor">#</a> instanceof</h2> <p><code>instanceof</code> 这个应该大家都不陌生 主要还是用于区分某个实例是否是属于一个特定的类 下面来说说<code>instanceof</code>的工作原理</p> <p>其实也非常简单 上文其实有提到过 实例是通过<code>__proto</code>来和原型对象关联的 而构造函数呢 又是通过<code>prototype</code>来关联原型对象的 所以呢 如果一个实例的<code>__proto__</code>和一个构造函数的<code>prototype</code>如果是一致的 那么其实是可以暂且说 这个实例是属于某个特定的类的 为什么说是暂且呢 一会儿来分析 先来看看刚才说的这些对不对吧 首先通过构造函数 new 一个 obj 实例 然后在控制台里看看
刚才说的对不对</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token string">'obj1'</span><span class="token punctuation">)</span>
</code></pre></div><p>看看控制台输出了啥
<img src="/vue-press/assets/img/console5.e1786f10.jpg" alt="123"></p> <p>和我们之前说的一样 构造函数foo的<code>prototype</code>和实例obj的<code>__proto__</code>属性 是一致的 那么接下来来看一个神奇的问题 <code>obj instanceof Object</code>会返回什么？
答案是 <code>true</code>如果有不相信的同学 其实可以自己去控制台里试试看 一定是返回的true 这是为什么呢  其实也还是脱离不了原型链这个概念</p> <p>首先 实例obj是构造函数foo new出来的一个对象 但是呢 构造函数foo 其实也是Object下的一个对象 这么一说可能还有点抽象 但是如果结合 <code>instanceof</code>的工作原理的话 其实就不难理解了 其实无外乎也就是一个原型链的查找过程</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 首先</span>
    obj1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> foo<span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token comment">// 其次</span>
    foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__poto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token comment">// 最后</span>
    obj1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token comment">// true</span>
</code></pre></div><p><img src="/vue-press/assets/img/console6.b2465f2b.jpg" alt="123"></p> <p>所以这也是为什么说 用instanceof 有时候并不够严谨的原因 那么真正严谨的应该是什么呢 其实答案应该也是呼之欲出了 上文有提到过 每一个构造函数在书写的时候 JavaScript模板引擎就会自动添加一个<code>prototype</code> 而这个<code>prototype</code>又是通过<code>constructor</code>去判断到底具体是哪个构造函数 所以 用<code>constructor</code>其实应该是更为严谨的一种写法</p> <div class="language-js extra-class"><pre class="language-js"><code>obj1<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> foo <span class="token comment">// true</span>
obj1<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object <span class="token comment">// false</span>
</code></pre></div><h3 id="all-is-well-💯"><a href="#all-is-well-💯" aria-hidden="true" class="header-anchor">#</a> All is well 💯</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue-press/VuePress/" class="prev">
          使用 VuePress 搭建个人博客
        </a></span> <span class="next"><a href="/vue-press/JS/OOP.html">
          JavaScript 之面向对象
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-press/assets/js/app.88f05347.js" defer></script><script src="/vue-press/assets/js/2.c4655929.js" defer></script><script src="/vue-press/assets/js/3.dc752b15.js" defer></script>
  </body>
</html>
