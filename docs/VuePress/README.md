# ä½¿ç”¨ VuePress æ­å»ºä¸ªäººåšå®¢

## VuePress æ˜¯ä»€ä¹ˆ

VuePress è¯ç”Ÿçš„åˆè¡·æ˜¯ä¸ºäº†æ”¯æŒ Vue ä»¥åŠå…¶é¡¹ç›®çš„æ–‡æ¡£éœ€æ±‚ åŒæ—¶å®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆ ä¸€ä¸ªæ˜¯åŸºäº Vue å¼€å‘çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ å¦ä¸€éƒ¨åˆ†åˆ™æ˜¯æä¾›äº†ä¹¦å†™æŠ€æœ¯æ–‡æ¡£è€Œä¼˜åŒ–çš„é»˜è®¤ä¸»é¢˜ çœ‹èµ·æ¥æ„Ÿè§‰å¾ˆå¤æ‚ ä½†æ˜¯å…¶å® æ€»ä¹‹å°±æ˜¯ä¸€å¥è¯ å¯ä»¥é€šè¿‡ VuePres å¿«é€Ÿç”Ÿæˆä¸€ä¸ªå±äºè‡ªå·±çš„ä¸ªäººåšå®¢ åŒæ—¶ä¾èµ–`Git Pages` å¯ä»¥ç›´æ¥å°†è‡ªå·±çš„åšå®¢éƒ¨ç½²åˆ° GitHub ä¸Š

## å®‰è£…ä»¥åŠåŸºç¡€é…ç½®

::: warning å¼€å§‹ä¹‹å‰è¯·æ£€æŸ¥ node ç‰ˆæœ¬
`node -v`
ç¡®ä¿ node ç‰ˆæœ¬ >= 8
:::
æ£€æŸ¥å®Œ node ç‰ˆæœ¬ä»¥å å¯ä»¥é€šè¿‡å…¨å±€/é¡¹ç›®å®‰è£…çš„æ–¹å¼ å®‰è£… VuePress æˆ‘é‡‡ç”¨çš„æ˜¯å…¨å±€ npm å®‰è£…
`npm install -g vuepress`
å®‰è£…å®Œæˆä»¥å éœ€è¦æ–°å»ºä¸€ä¸ª`package.json` è¯¥æ–‡ä»¶çš„ç›®çš„åœ¨äº ä½¿ç”¨ä¸€äº›è„šæœ¬å‘½ä»¤ è®© webpack å¸®åŠ©æˆ‘ä»¬æ‰“åŒ…é¡¹ç›®

```json
{
  "scripts": {
    // è¿è¡Œé¡¹ç›®
    "docs:dev": "vuepress dev docs",
    // æ‰“åŒ…æ„å»ºé¡¹ç›® => éƒ¨ç½²æ—¶ç”¨åˆ°
    "docs:build": "vuepress build docs"
  }
}
```

å…¶å®åˆ°è¿™é‡Œ å°±å·²ç»å¯ä»¥å¼€å§‹é€šè¿‡ VuePress è¿›è¡Œæ–‡æ¡£ç±»çš„å†™ä½œäº† ä½†æ˜¯å¯¹äºè¦æ„å»ºä¸ªäººåšå®¢çš„æˆ‘ä»¬æ¥è¯´ å…¶å®åº”è¯¥æ˜¯è¿œè¿œä¸å¤Ÿçš„ æ‰€ä»¥ä¸‹é¢æ¥è¯´ä¸€ä¸‹å…·ä½“çš„ä¸€äº›é…ç½®é¡¹ é€šè¿‡è¿™äº›é…ç½®é¡¹è®©æˆ‘ä»¬å¯ä»¥å¿«é€Ÿæ„å»ºå‡ºä¸€ä¸ªåšå®¢åŸå‹

## åŸºç¡€é…ç½®

æˆ‘ä»¬éœ€è¦åœ¨ docs æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª.vuepress ç›®å½• è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ä¸€ä¸ª`config.js` è¿™ä¸ª js æ–‡ä»¶åŒ…å«çš„ js å¯¹è±¡å°±æ˜¯å¯¹ VuePress çš„ä¸€äº›é…ç½® åŒæ—¶ä¹Ÿéœ€è¦æ–°å»ºä¸€ä¸ª`public`æ–‡ä»¶å¤¹ è¿™ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ä¸€äº›é™æ€èµ„æº ä¾‹å¦‚å›¾ç‰‡ä¹‹ç±»çš„ æ‰€ä»¥ å½“éƒ½å®Œæˆäº†ä¸Šè¿°çš„æ­¥éª¤ä¹‹å ä½ çš„ç›®å½•ç»“æ„æœ‰å¯èƒ½æ˜¯è¿™æ ·çš„

```
.
|-- docs
|   |-- .vuepress
|   |   |-- config.js   // å­˜æ”¾é…ç½®é¡¹
    |   |-- public     // å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶
|-- README.md   // é…ç½®é¦–é¡µ
|-- package.json   // è„šæœ¬å‘½ä»¤
```

å¥½äº† ä¸Šè¿°æ–‡ä»¶ä¸­ å…¶å®è¿˜æœ‰ä¸€ä¸ª README.md è¿™ä¸ª`.md`æ–‡ä»¶å…¶å®å°±æ˜¯ç”¨æ¥é…ç½®ä½ çš„åšå®¢é¦–é¡µçš„ å…·ä½“çš„é…ç½®é¡¹å¦‚ä¸‹ è¿™ä¸ªæ–‡ä»¶çš„é…ç½®æ–¹æ³•æ˜¯é€šè¿‡`YAML`è¿›è¡Œé…ç½®

```YAML
---
home: true
heroImage: /image/avatar.jpeg  // å¤´åƒ
actionText: åšå®¢ â†’  // é“¾æ¥æŒ‰é’®text
actionLink: /Vue/ // æŒ‰é’®ç‚¹å‡»è·³è½¬ä»¥åçš„é¡µé¢
footer: åšäººå˜› æœ€é‡è¦çš„å°±æ˜¯å¼€å¿ƒå•¦
---
```

åŒæ—¶éœ€è¦åœ¨ config.js é‡Œåšå¦‚ä¸‹é…ç½®

```js
module.exports = {
  title: 'å‰ç«¯æ‰“æ‚å¸ˆ - Zhu',
  description: 'All is well'
}
```

å½“è¿™æ ·é…ç½®å®Œæˆä»¥å å½“ä½ è¿è¡Œé¡¹ç›®çš„æ—¶å€™ åº”è¯¥å¯ä»¥çœ‹è§ç±»ä¼¼ä¸‹å›¾çš„ä¸»é¡µå†…å®¹

![](./home.jpg)

## ä¸»é¢˜é…ç½®
*  å¯¼èˆªæ é…ç½®
```js
themeConfig: {
    nav: [
      { text: 'é¦–é¡µ', 
        link: '/' 
      },
      { text: 'åšå®¢', 
        link: '/vue/',
      },
      { text: 'GitHub', link: 'https://github.com/ThecoadeR/vue-press/'}
    ]
}
```
éœ€è¦æ³¨æ„çš„æ˜¯ è¿™ä¸ªåœ°æ–¹ å¦‚æœæ˜¯```link```åˆ°åšå®¢ä¸­çš„å…·ä½“æ–‡ç« çš„è¯ å…¶å®```link```å†™çš„å°±æ˜¯å¯¹åº”çš„è·¯å¾„ è€Œå¦‚æœæ˜¯```link```åˆ°å¤–éƒ¨é“¾æ¥çš„è¯ ä¸è¦å¿˜è®°åŠ ç½‘å€å¯¹åº”çš„httpåè®®

* ä¾§è¾¹æ é…ç½®
ä¾§è¾¹æ å¯ä»¥åœ¨```config.js```é‡Œé€šè¿‡```sidebar```è¿™ä¸ªå¯¹è±¡è¿›è¡Œå…·ä½“çš„é…ç½®
å¦‚æœä»…ä»…æ˜¯å¸Œæœ›ç”Ÿæˆä¸€ä¸ªåŒ…å«é¡µé¢æ ‡é¢˜çš„ä¾§è¾¹æ  é‚£åªéœ€è¦åšå¦‚ä¸‹é…ç½®
```js
module.exports = {
  themeConfig: {
    sidebar: 'auto'
  }
}
```
è¿™æ ·VuePressä¼šè‡ªåŠ¨å¯»æ‰¾åˆ°å¯¹åº”çš„æ ‡é¢˜(ä¾‹å¦‚```h1 h2 h3```æ ‡ç­¾) å¹¶ä¸”æ¸²æŸ“åœ¨ä¾§è¾¹æ ä¸Š

ä½†æ˜¯å¾€å¾€æœ‰æ—¶å€™ æˆ‘ä»¬éœ€è¦æ›´å¤æ‚çš„ä¾§è¾¹æ  ä¾‹å¦‚ä¸‹å›¾

![](./slider.jpg)

è¿™æ ·çš„ä¾§è¾¹æ  æˆ‘ä¸ªäººè®¤ä¸ºæ›´é€‚åˆ ä¹Ÿå°±æ˜¯åŒ…å«äº†å…·ä½“çš„åˆ†ç±» åŒæ—¶åˆ†ç±»ä¸‹åŒ…å«äº†æ–‡ç« æ ‡é¢˜å¹¶ä¸”å¯ä»¥æŠ˜å  å¦‚æœæƒ³å®ç°è¿™æ ·çš„ä¾§è¾¹æ é…ç½® é‚£ä¹ˆåˆ™éœ€è¦å°†æ¯ä¸€ä¸ªä¾§è¾¹æ éƒ½å½“åšä¸€ä¸ªå¯¹è±¡ å†™å…¥```themeConfig```
```js
sidebar: [
      {
        title: 'VuePress',
        collapsable: true, // æ˜¯å¦æŠ˜å 
        children: [  // å…·ä½“æ–‡ç« å†…å®¹çš„è·¯å¾„
          '/VuePress/'
        ]
      }
]
```
å€¼å¾—ä¸€æçš„æ˜¯ å…‰æ˜¯è¿™æ ·æ˜¯æ— æ³•æ¸²æŸ“ä¾§è¾¹æ çš„ åŒæ—¶ä½ éœ€è¦ç¡®ä¿ä½ çš„ç›®å½•ç»“æ„å¦‚ä¸‹å›¾


```
.
|-- docs
|   |-- .vuepress
|   |   |-- config.js   // å­˜æ”¾é…ç½®é¡¹
    |   |-- public     // å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶
|-- README.md   // é…ç½®é¦–é¡µ
|-- package.json   // è„šæœ¬å‘½ä»¤
|-- VuePress // æ–‡ä»¶
|   |-- README.md // å¯¹åº”.mdæ–‡ä»¶
```

## éƒ¨ç½²
å½“é¦–é¡µ ä¾§è¾¹æ  ä»¥åŠå…·ä½“çš„æ–‡ç« éƒ½å®ç°äº†ä»¥å é‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯éƒ¨ç½²äº† å…¶ä¸­VuePresså®˜æ–¹æ–‡æ¡£ä¹Ÿæä¾›äº†éå¸¸å¤šçš„éƒ¨ç½²æ–¹æ¡ˆ ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯éƒ¨ç½²åˆ°GitHub æ‰€ä»¥æœ¬ç¯‡æ–‡ç« åªè®²è¿°å¦‚ä½•éƒ¨ç½²åˆ°```github.page```

* å¼€å§‹ä¹‹å‰
::: warning æ–‡ä»¶è·¯å¾„
ç»†å¿ƒçš„åŒå­¦å¯èƒ½ä¼šå‘ç° åœ¨```deploy.sh```æ–‡ä»¶é‡Œæœ‰è¿™ä¹ˆä¸€è¡Œä»£ç  ```cd cd docs/.vuepress/dist``` ä¹Ÿå°±æ˜¯è¯´ å¦‚æœæƒ³è¦è„šæœ¬æ–‡ä»¶æ‰§è¡Œé¡ºåˆ© ä½ éœ€è¦ç¡®ä¿ä½ æ‰“åŒ…ä»¥åçš„distæ–‡ä»¶å¤¹æ˜¯åœ¨.vuepressä¸‹  æ‰€ä»¥å¦‚æœåœ¨```config.js```é‡Œè®¾ç½®äº† ```dest```çš„åŒå­¦ æ³¨æ„ä¿®æ”¹```deploy.sh```ä¸‹çš„è·¯å¾„
:::
* é¦–å…ˆåœ¨é¡¹ç›®é‡Œæ–°å»ºè„šæœ¬æ–‡ä»¶ deploy.sh å¹¶å†™å…¥å¦‚ä¸‹è„šæœ¬
``` sh
#!/usr/bin/env sh

# ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯
set -e

# ç”Ÿæˆé™æ€æ–‡ä»¶
npm run docs:build

# è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹
cd docs/.vuepress/dist

# å¦‚æœæ˜¯å‘å¸ƒåˆ°è‡ªå®šä¹‰åŸŸå
# echo 'www.example.com' > CNAME

git init
git add -A
git commit -m 'deploy'

# å¦‚æœå‘å¸ƒåˆ° https://<USERNAME>.github.io
# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master

# å¦‚æœå‘å¸ƒåˆ° https://<USERNAME>.github.io/<REPO>
# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages

cd -
```
* é€‰æ‹©éƒ¨ç½²åˆ°githubçš„å¯¹åº”æ–¹å¼ å¹¶è§£å¼€å¯¹åº”æ³¨é‡Š
è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ å¦‚æœé€‰æ‹©çš„æ˜¯ç¬¬äºŒç§æ–¹å¼çš„è¯ éœ€è¦åœ¨config.jsé‡Œé…ç½®ä¸€ä¸‹å…·ä½“çš„```<repo>```åšå¦‚ä¸‹é…ç½®å³å¯
```js
module.exports = {
  base: "/vue-press/",
}
```
* æ–°å»ºscriptså‘½ä»¤ ç®€åŒ–éƒ¨ç½²æµç¨‹
åœ¨```package.json```é‡Œåšå¦‚ä¸‹é…ç½®
```json
{
  "scripts": {
    "docs:dev": "vuepress dev docs",
    "docs:build": "vuepress build docs",
    "deploy": "bash deploy.sh"
  }
}
```
è¿™æ ·æ¯æ¬¡éœ€è¦æ›´æ–°æ–‡ç«  åªéœ€è¦åœ¨ç»ˆç«¯é‡Œè¾“å…¥ ```npm run deploy```å³å¯

## æœ€å
##### VuePressçœŸé¦™ ğŸ˜‚ğŸ¤£ğŸ˜‚ğŸ¤£
